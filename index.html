<head>
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/draggable/1.0.0-beta.12/draggable.min.js"></script>
  <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jplayer/2.9.2/jplayer/jquery.jplayer.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-touch-events/1.0.5/jquery.mobile-events.js"></script>
  <script src="./jquery.touch.js"></script>
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/notie/dist/notie.min.css">
  <style>
    /* override styles here */
    .notie-container {
      box-shadow: none;
    }
  </style>
  <script src="https://unpkg.com/notie"></script>

  <meta charset="UTF-8" />
</head>
<script>
  const dogImage =
    'https://i.guim.co.uk/img/media/fe1e34da640c5c56ed16f76ce6f994fa9343d09d/0_174_3408_2046/master/3408.jpg?width=1200&height=1200&quality=85&auto=format&fit=crop&s=67773a9d419786091c958b2ad08eae5e'
  const catImage =
    'data:image/jpeg;base64,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'
  const pigImage = 'https://essentialhebrew.com/thekey/imageskmh/unit1/pig2.jpg'
  const horseImage = 'https://essentialhebrew.com/thekey/imageskmh/unit1/horse.jpg'
  const birdImage = 'https://essentialhebrew.com/thekey/imageskmh/unit1/bird.jpg'
  const fishImage = 'https://essentialhebrew.com/thekey/imageskmh/unit1/fish.jpg'
  const nutsImage = 'https://essentialhebrew.com/thekey/imageskmh/unit1/nuts.jpg'
  const catsImage = 'https://essentialhebrew.com/thekey/imageskmh/unit1/cats2.jpg'
  const dogsImage = 'https://essentialhebrew.com/thekey/imageskmh/unit1/dogs.jpg'
  const birdsImage = 'https://essentialhebrew.com/thekey/imageskmh/unit1/birds.jpg'

  const audioLocation = 'https://www.essentialhebrew.com/thekey/allaudio/unit1/'
  const globalAudioFileLocation = 'https://www.essentialhebrew.com/thekey/allaudio/'
  const randomizeDropElements = true
  const randomizeDragElements = true
  /**
    elements that are dragged
     **/
  const dragElements = [
    {
      id: 'dog',
      text: 'כלב',
      lang: 'he',
    },
    { id: 'cat', text: 'חתוּל', lang: 'he' },
    { id: 'pig', text: 'חזיר', lang: 'he' },
    { id: 'horse', text: 'סוּס', lang: 'he' },
    { id: 'bird', text: 'ציפּור', lang: 'he' },
    { id: 'fish', text: 'דג', lang: 'he' },
    { id: 'nuts', text: 'אגוזים', lang: 'he' },
    { id: 'cats', text: 'חתוּלים', lang: 'he' },
    { id: 'dogs', text: 'כלבים', lang: 'he' },
    { id: 'birds', text: 'ציפּורים', lang: 'he' },
    { id: 'distractor1', text: 'חתלים', lang: 'he' },
    { id: 'distractor2', text: 'אבנים', lang: 'he' },
    { id: 'distractor3', text: 'הזרים', lang: 'he' },
  ]

  /**
    elements that are dropped
     **/
  const dropElements = [
    {
      id: 'dog',
      image: dogImage,
      soundId: 0,
    },
    { id: 'cat', image: catImage, soundId: 1 },
    { id: 'pig', image: pigImage, soundId: 2 },
    { id: 'horse', image: horseImage, soundId: 3 },
    { id: 'bird', image: birdImage, soundId: 4 },
    { id: 'fish', image: fishImage, soundId: 5 },
    { id: 'nuts', image: nutsImage, soundId: 6 },
    { id: 'cats', image: catsImage, soundId: 7 },
    { id: 'dogs', image: dogsImage, soundId: 8 },
    { id: 'birds', image: birdsImage, soundId: 9 },
    //  {id:'distractor1',image:null,soundId:10}
  ]

  function getShuffledArr(arr) {
    const newArr = arr.slice()
    for (let i = newArr.length - 1; i > 0; i--) {
      const rand = Math.floor(Math.random() * (i + 1));
      [newArr[i], newArr[rand]] = [newArr[rand], newArr[i]]
    }
    return newArr
  }

  /**
  mark the last element of the array as `true`
  if it is not an audio distractor
  */
  const audioInfo = [
    ['0', 'dragDrop1.mp3', 1, 1353, 'dog', true],
    ['1', 'dragDrop1.mp3', 1353, 2409, 'cat', true],
    ['2', 'dragDrop1.mp3', 2751, 3814, 'pig', true],
    ['3', 'dragDrop1.mp3', 4297, 5422, 'horse', true],
    ['4', 'dragDrop1.mp3', 5729, 7052, 'bird', true],
    ['5', 'dragDrop1.mp3', 7408, 8563, 'fish', true],
    ['6', 'dragDrop1.mp3', 9077, 10480, 'nuts', true],
    ['7', 'dragDrop1.mp3', 10993, 12425, 'cats', true],
    ['8', 'dragDrop1.mp3', 12532, 13865, 'dogs', true],
    ['9', 'dragDrop1.mp3', 14116, 15548, 'birds', true],
    //['10',audDistractor1,0,1332,"לא נכון", false],
    //['11',audDistractor2,0,993,"לא בדיוק", false],
    //['12',audDistractor3,0,1632,"נא לְנַסות שוּב", false],
  ]

  const successAudio = [
    ['0', 'correctResponses.mp3', 1, 689, 'נכון'],
    ['1', 'correctResponses.mp3', 1325, 2551, 'מצויין'],
    ['2', 'correctResponses.mp3', 2918, 4305, 'מְעוּלֶה'],
    ['3', 'correctResponses.mp3', 5254, 6803, 'נכון מאוד'],
    ['4', 'correctResponses.mp3', 7286, 8575, 'נהדר'],
    ['5', 'correctResponses.mp3', 7286, 8575, 'טוב מאוד'],
  ]

  const incorrectAudio = [
    ['0', 'wrongResponse.wav', 61, 2562, 'שיעורי בית'],
    ['1', 'wrongResponse.wav', 2562, 4163, 'לא בדיוק'],
    ['2', 'wrongResponse.wav', 4084, 5886, 'לא נכון'],
    ['3', 'wrongResponse.wav', 5886, 9191, 'לא נכון בבקשה'],
    ['4', 'wrongResponse.wav', 9223, 10914, 'נא לנסות שוב'],
    // ['5', 'wrongResponse.wav', 16874, 19492, 'לא בדיוק'],
  ]

  const completeAudio = [
    ['0', 'correctResponses.mp3', 1, 689, 'נכון'],
    ['1', 'correctResponses.mp3', 1325, 2551, 'מצויין'],
    ['2', 'correctResponses.mp3', 2918, 4305, 'מְעוּלֶה'],
    ['3', 'correctResponses.mp3', 5254, 6803, 'נכון מאוד'],
    ['4', 'correctResponses.mp3', 7286, 8575, 'נהדר'],
    ['5', 'correctResponses.mp3', 7286, 8575, 'טוב מאוד'],
  ]

  const allNumbersAudio = 'https://www.essentialhebrew.com/thekey/allaudio/'

  const scores = [[0, "numbersAll_noMinus.mp3", 0, "1305", "Hebrew"], [1, "numbersAll_noMinus.mp3", 1201, "2699", "Hebrew"], [2, "numbersAll_noMinus.mp3", "2699", "4266", "Hebrew"], [3, "numbersAll_noMinus.mp3", "4266", 5390, "Hebrew"], [4, "numbersAll_noMinus.mp3", 5190, "6633", "Hebrew"], [5, "numbersAll_noMinus.mp3", "6633", "8031", "Hebrew"], [6, "numbersAll_noMinus.mp3", 8331, "10157", "Hebrew"], [7, "numbersAll_noMinus.mp3", 11057, "12675", "Hebrew"], [8, "numbersAll_noMinus.mp3", 12975, "14941", "Hebrew"], [9, "numbersAll_noMinus.mp3", 16141, "17658", "Hebrew"], [10, "numbersAll_noMinus.mp3", "17658", "19828", "Hebrew"], [11, "numbersAll_noMinus.mp3", "19828", "22763", "Hebrew"], [12, "numbersAll_noMinus.mp3", "22763", "24928", "Hebrew"], [13, "numbersAll_noMinus.mp3", "24928", "27973", "Hebrew"], [14, "numbersAll_noMinus.mp3", "27973", "29918", "Hebrew"], [15, "numbersAll_noMinus.mp3", "29918", "32791", "Hebrew"], [16, "numbersAll_noMinus.mp3", 33691, "36056", "Hebrew"], [17, "numbersAll_noMinus.mp3", "36056", "38857", "Hebrew"], [18, "numbersAll_noMinus.mp3", "38857", "41636", "Hebrew"], [19, "numbersAll_noMinus.mp3", "41636", "43962", "Hebrew"], [20, "numbersAll_noMinus.mp3", "43962", "46680", "Hebrew"], [21, "numbersAll_noMinus.mp3", 47880, "50260", "Hebrew"], [22, "numbersAll_noMinus.mp3", "50260", "53548", "Hebrew"], [23, "numbersAll_noMinus.mp3", "53548", "56500", "Hebrew"], [24, "numbersAll_noMinus.mp3", "56500", "59439", "Hebrew"], [25, "numbersAll_noMinus.mp3", "59439", "61741", "Hebrew"], [26, "numbersAll_noMinus.mp3", "61741", "63843", "Hebrew"], [27, "numbersAll_noMinus.mp3", "63843", "65731", "Hebrew"], [28, "numbersAll_noMinus.mp3", "65731", "67592", "Hebrew"], [29, "numbersAll_noMinus.mp3", "67592", "69526", "Hebrew"], [30, "numbersAll_noMinus.mp3", "69526", "71215", "Hebrew"], [31, "numbersAll_noMinus.mp3", "71215", 72787, "Hebrew"], [32, "numbersAll_noMinus.mp3", 72887, "74253", "Hebrew"], [33, "numbersAll_noMinus.mp3", "74253", "75732", "Hebrew"], [34, "numbersAll_noMinus.mp3", "75732", 77591, "Hebrew"], [35, "numbersAll_noMinus.mp3", "77791", "79329", "Hebrew"], [36, "numbersAll_noMinus.mp3", "79329", "81232", "Hebrew"], [37, "numbersAll_noMinus.mp3", "81232", "83044", "Hebrew"], [38, "numbersAll_noMinus.mp3", "83044", "85177", "Hebrew"], [39, "numbersAll_noMinus.mp3", "85177", "86766", "Hebrew"], [40, "numbersAll_noMinus.mp3", "86766", "88373", "Hebrew"]]

  function playNumberAudio(number, callback) {
    const audio = new Audio(allNumbersAudio)
    let startTime
    let stopTime
    for (let idx = 0; idx <= allNumbersTimestamps.length - 1; idx++) {
      if (allNumbersTimestamps[idx][0] === number.toString()) {
        startTime = allNumbersTimestamps[idx][1]
        stopTime = allNumbersTimestamps[idx][2]
      }
    }
    audio.currentTime = startTime
    audio.addEventListener(
      'timeupdate',
      function () {
        if (audio.currentTime >= stopTime) {
          audio.pause()
          audio.currentTime = 0 //jon added
          if (typeof callback === 'function') {
            callback()
          }
        }
      },
      false,
    )
    audio.play()
  }


  /**
  Keep track of words that have been marked as correct
  **/
  var remainingWords = []

  const scoreIncrementValue = 2

  /**
  total possible score
  **/
  const totalPossibleScore = audioInfo.filter(function (element) {
    return element[5] === true
  }).length * scoreIncrementValue

  var score = 0
  const scoreDecrementValue = {
    easy: 0,
    medium: 1,
    hard: 2,
  }
  var chosenDecrement = scoreDecrementValue.easy

  function updateScore(action) {
    if (action === 'reset') {
      score = 0
    }
    if (action === 'increment') {
      notie.alert({ text: 'נכון', type: "success" })
      score += scoreIncrementValue
    }
    if (action === 'decrement') {
      notie.alert({ text: 'לא נכון', type: "error" })

      if (score !== 0) {
        score -= chosenDecrement
      }
    }

    $('#score').empty().append(score)
  }

  $(function () {
    $("#level-select").change(function (evennt) {
      event.preventDefault()
      const selected = event.target.value
      if (selected === "easy") {
        chosenDecrement = scoreDecrementValue.easy
      }
      if (selected === "medium") {
        chosenDecrement = scoreDecrementValue.medium
      }
      if (selected === "hard") {
        chosenDecrement = scoreDecrementValue.hard
      }
    })
  })

  function addDropElements(randomize) {
    const elementsToRender = randomize ? getShuffledArr(dropElements) : dropElements
    for (var i = 0; i <= elementsToRender.length - 1; i++) {
      $('#drop-container').append(
        $('<img>')
          .attr('src', elementsToRender[i].image)
          .attr('data-id', elementsToRender[i].id)
          .attr('sound-id', elementsToRender[i].soundId)
          .attr('height', '100')
          .attr('width', '100')
          .addClass('droppable'),
      )
    }
  }

  function addDragElements(randomize) {
    const elementsToRender = randomize ? getShuffledArr(dragElements) : dragElements
    for (var i = 0; i <= elementsToRender.length - 1; i++) {
      $('#drag-container').append(
        $('<div>')
          .text(elementsToRender[i].text)
          .addClass('draggable')
          .attr('data-id', elementsToRender[i].id),
      )
    }
  }

  function removeDropElements() {
    $('#drop-container').empty()
  }

  function removeDragElements() {
    $('#drag-container').empty()
  }

  function getRandomElement(arr) {
    return arr[Math.floor(Math.random() * arr.length)]
  }

  function removeElementById(id, sourceArray) {
    for (var i = 0; i < sourceArray.length; i++) {
      if (sourceArray[i][0] === id && sourceArray[i][5]) {
        sourceArray = sourceArray.splice(i, 1)
      }
    }
  }

  /**
  called when there are no more words to drag
  */
  function playCompleteAudio() {
    if (remainingWords.length === 0) {
      const randomId = getRandomElement(completeAudio)[0]
      finished("you have finished")
      // window.alert("Congratulations, you completed the challenge!");
      playAudio(globalAudioFileLocation, randomId, completeAudio)
    }
  }

  function finished() {

  }

  function playScoreAudio(callback) {
    const score = parseInt(document.getElementById('score').innerHTML)
    playAudio(globalAudioFileLocation, score, scores)
    if(typeof callback === 'function'){
      callback()
    }
  }

  /**
  called on correct word drop
  */
  function playSuccessAudio(callback) {
    const randomId = getRandomElement(successAudio)[0]
    playAudio(globalAudioFileLocation, randomId, successAudio, callback)
  }

  /**
  called on incorrect word drop
  */
  function playIncorrectAudio() {
    const randomId = getRandomElement(incorrectAudio)[0]
    playAudio(globalAudioFileLocation, randomId, incorrectAudio, playScoreAudio)
  }



  function playAudio(location, id, sourceArray, callback) {
    var trackInfo = {}
    for (i = 0; i <= sourceArray.length - 1; i++) {
      if (sourceArray[i][0] === id) {
        trackInfo.id = id
        trackInfo.fileName = sourceArray[i][1]
        trackInfo.startTime = sourceArray[i][2] / 1000
        trackInfo.endTime = sourceArray[i][3] / 1000
        trackInfo.lang = sourceArray[i][4]
      }
    }
    const audioFileURL = location + trackInfo.fileName
    const audio = new Audio(audioFileURL)
    audio.currentTime = trackInfo.startTime
    audio.addEventListener(
      'timeupdate',
      function () {
        if (audio.currentTime >= trackInfo.endTime) {
          audio.pause()
          audio.currentTime = 0 //jon added
          if (typeof callback === 'function') {
            callback()
          }
        }
      },
      false,
    )
    audio.play()
  }

  $(function () {
    addDragElements(randomizeDragElements)
    addDropElements(randomizeDropElements)
  })

  function isCorrect(dragId, dropId) {
    /**
      lets say dropId was animal
      lets say dragId was dog-animal
      then this would also be a match
    **/
    return dragId === dropId || dragId.includes(dropId)
  }

  function loadDragAndDrop() {
    score = 0
    updateScore('reset')
    $("#total-score").text("").append(totalPossibleScore)
    remainingWords = JSON.parse(JSON.stringify(audioInfo))
    $('.draggable').draggable({
      revert: function (isvalid) {
        if (!isvalid) {
          updateScore('decrement')
          playIncorrectAudio()
          return true
        }
      },
    }).touch()
    $('.droppable').droppable({
      accept: function (drag) {
        var dropId = $(this).attr('data-id')
        var dragId = $(drag).attr('data-id')
        return isCorrect(dragId, dropId)
      },
      drop: function (drag) {
        /**
        this function is called when an accepted
        draggable is dropped
        */
        var id = drag.target.attributes['sound-id'].value
        removeElementById(id, remainingWords)
        updateScore('increment')
        function success() {
          function callback(){
            playScoreAudio(playCompleteAudio)
          }
          playSuccessAudio(callback)
        }
        playAudio(audioLocation, id, audioInfo, success)
      },
    }).touch()
  }

  $(function () {
    loadDragAndDrop()
  })

  function repeat() {
    removeDragElements()
    removeDropElements()
    addDragElements(randomizeDragElements)
    addDropElements(randomizeDropElements)
    loadDragAndDrop()
  }
  function finished() {
    document.getElementById("greeting").innerHTML = "You have finished. You matched all the words"
  }
</script>
<!--Enter HTML Code-->
<style type="text/css">
  .droppable {
    width: 100px;
    /* width:200px; */
    height: 100px;
    /* height:112px; */
    margin: 10px;
    border: 1px solid rgb(53, 53, 53);
    border-radius: 4px;
    background: white;
    user-select: none;
    pointer-events: none;
    object-fit: cover;
  }

  .draggable {
    height: 25px;
    color: #000000;
    background: white;
    max-width: min-content;
    padding: 2px;
    font-family: david;
    font-size: 24px;
    padding: 5px;
    border-radius: 5px;
    margin-left: 90px;
    margin-bottom: 8px;
    cursor: move;
    /* fallback if grab cursor is unsupported */
    cursor: grab;
    cursor: -moz-grab;
    cursor: -webkit-grab;
    border-style: solid;
  }

  .draggable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
    -webkit-box-shadow: -1px 5px 22px 5px rgba(0, 0, 0, 0.5);
    box-shadow: -1px 5px 22px 5px rgba(0, 0, 0, 0.5);
  }

  .slidecontainer {
    width: 45%;
    margin-left: 290px;
    border-color: dodgerblue;
    border-style: solid;
    padding: 5pt;
    border-radius: 5px;
  }

  .slider {
    -webkit-appearance: none;
    /* width: 65%; */
    width: 100%;
    height: 15px;
    border-radius: 5px;
    background: #42b9f4;
    outline: none;
    opacity: 0.7;
    -webkit-transition: 0.2s;
    transition: opacity 0.2s;
  }

  .slider:hover {
    opacity: 1;
  }

  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #110109;
    cursor: pointer;
  }

  .slider::-moz-range-thumb {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #110109;
    cursor: pointer;
  }

  .mybtn {
    height: 24px;
    width: 43;
    background-image: url('https://www.essentialhebrew.com/thekey/imageskmh/Blurearphone.jpg');
    background-repeat: no-repeat;
    cursor: pointer;
    text-align: right;
    margin-right: 35px;
    padding-right: 35px;
    border-radius: 3pt;
    vertical-align: top;
  }

  .wrapper {
    display: flex;
    width: 100%;
    height: 110%;
  }

  .container {
    padding: 10px;
  }

  .drag {
    background: whitesmoke;
    width: 50%;
    border-right: 1px solid;
  }

  .drag>.draggable {
    display: inline-flex;
    margin: 10px;
  }

  .drop {
    background: rgb(255, 255, 255);
    width: 50%;
  }

  body {
    background: rgb(237, 237, 237);
  }

  .repeat-btn {
    margin-top: 10px;
    border-radius: 4px;
    height: 40px;
    border: none;
    font-size: 12px;
    background: rgb(0, 0, 0);
    color: white;
    margin: 10px;
    cursor: pointer;
    font-family: Georgia, 'Times New Roman', Times, serif;
  }

  .repeat-btn:hover,
  .repeat-btn:active {
    background: rgb(43, 43, 43);
  }

  .repeat-btn:focus {
    background: rgb(106, 106, 106);
  }

  .header {
    text-align: center;
    display: flex;
    border-bottom: 1px solid;
  }

  #score-container {
    float: right;
    display: flex;
  }

  #score-container p {
    font-size: 18px;
    font-weight: bold;
  }

  #score-container .label {
    padding-right: 20px;
    padding-left: 20px;
  }

  #finished {
    position: absolute;

  }

  .level {
    margin-left: 20px;
    display: flex;
    font-size: 18px;
  }


  .level label {
    padding-left: 2px;
    padding-right: 10px;
    line-height: 56px;

  }

  .dragndrop {
    font-family: Georgia, 'Times New Roman', Times, serif
  }
</style>

<body class="dragndrop">
  <div>
    <p class="norm" style="text-align: center; font-size: 30px; font-weight: bold">
      Drag the Hebrew word to the picture that it matches.
    </p>
  </div>
  <div class="header">
    <button type="button" class="repeat-btn" onclick="repeat()">Click to Repeat the Game!</button>
    <div class="level">
      <form class="level" id="level-select">
        <p>Select Level:</p>
        <input type="radio" id="easy" name="level" value="easy" checked>
        <label for="easy">Easy (Lose 0 for incorrect answers)</label><br>
        <input type="radio" id="medium" name="level" value="medium">
        <label for="medium">Medium (Lose 1 for incorrect answers)</label><br>
        <input type="radio" id="hard" name="level" value="hard">
        <label for="hard">Hard (Lose 2 for incorrect answers)</label><br>
    </div>
    <div id="score-container">
      <p class="label">Score:</p>
      <p id="score"></p>
      <p>/</p>
      <p id="total-score"></p>
    </div>
  </div>
  <div class="wrapper">
    <div class="container drag" id="drag-container">
      <h2>Drag</h2>
    </div>
    <div class="container drop" id="drop-container">
      <h2>Drop</h2>
    </div>
  </div>
</body>